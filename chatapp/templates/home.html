{% extends 'base.html' %}
{% block body %}
<body>
    <section style="background-color: #eee;">
        <div class="container py-5">
      
          <div class="row">
      
            <div class="col-md-6 col-lg-5 col-xl-4 mb-4 mb-md-0">
      
              <h5  id='requestUser' class="font-weight-bold mb-3 text-center text-lg-center">{{request.user}}</h5>
      
              <div class="card">
                <div class="card-body">
      
                  <ul class="list-unstyled mb-0">
                    {% for user in chatUserList %}
                      <li class="listbuttons p-2 border-bottom" style="background-color: #eee;" onClick='select(id)' id='{{user.username}}'>
                      <a href="#!" class="d-flex justify-content-between">
                        <div class="d-flex flex-row">
                          <img src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/avatar-8.webp" alt="avatar"
                            class="rounded-circle d-flex align-self-center me-3 shadow-1-strong" width="60">
                          <div class="pt-1">
                            <p class="fw-bold mb-0" id='listuser'>{{user.username}}</p>
                            <p class="small text-muted">Hello, Are you there?</p>
                          </div>
                        </div>
                        <div class="pt-1">
                          <p class="small text-muted mb-1">Just now</p>
                          <span class="badge bg-danger float-end" id='badge_{{user.username}}'></span>
                        </div>
                      </a>
                    </li>  
                    {% endfor %}   
                    
                    {% for group in groupList %}
    
                    <li class="listbuttons p-2 border-bottom" style="background-color: #eee;" onClick='select(id)' id='{{group.username}}'>
                      <a href="#!" class="d-flex justify-content-between">
                        <div class="d-flex flex-row">
                          <img src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/avatar-8.webp" alt="avatar"
                            class="rounded-circle d-flex align-self-center me-3 shadow-1-strong" width="60">
                          <div class="pt-1">
                            <p class="fw-bold mb-0" id='listuser'>{{group.username}}</p>
                            <p>chat with friends</p>
                           
                          </div>
                        </div>
                        <div class="pt-1">
                          <span class="badge bg-danger float-end" id='badge_{{group.username}}'></span>
                          
                        </div>
                      </a>
                    </li>  
                    {% endfor %}
                  </ul>
      
                </div>
              </div>
      
            </div>
      
            <div class="col-md-6 col-lg-7 col-xl-8" id='chatWindow' style='visibility:hidden'>
              <ul class="list-unstyled">
                <li class="d-flex align-items-center bg-dark"> 
                  <h4 id='chatDisplayName' class='text-light ps-3'></h4>
                  <h6 id='statusOnline' class='text-light'style='margin:1px 90px'>None</h6>
                </li>
                {% load humanize %}
                <div id="chatScreen" class='border p-2 rounded-3 bg-secondary' style='max-height: 550px; overflow: scroll; height: 550px;'>
                </div>
                <li class="bg-white mb-3">
                  <div class="form-outline">
                    <textarea class="form-control" id="textData" rows="4"></textarea>
                    <label class="form-label" for="textAreaExample2">Message</label>
                  </div>
                </li>
                <button type="button" class="btn btn-info btn-rounded float-end" onClick='sendMessage()'>Send</button>
              </ul>
      
            </div>
      
          </div>
      
        </div>
      </section>
      <style>
        
        #chatScreen::-webkit-scrollbar,
        #chatScreen::-webkit-scrollbar-thumb {
          width: 26px;
          border-radius: 13px;
          background-clip: padding-box;
          border: 10px solid transparent;
        }

        #chatScreen::-webkit-scrollbar-thumb {        
          box-shadow: inset 0 0 0 10px;
        }
      </style>
      {% load static %}
      <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
      <script src="{% static 'js/main.js' %}"></script>
</body>
{% endblock  %}